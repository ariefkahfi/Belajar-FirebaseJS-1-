<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hello</title>
</head>
<body>
    <h4>Hello Firebase Database</h4>
    <form name="form">
        <table>
            <tr>
                <td>Nim</td>
                <td><input type="text" name="nim" placholder="Nim anda"/></td>
            </tr>
            <tr>
                <td>Nama</td>
                <td><input type="text" name="nama" placholder="Nama anda"/></td>
            </tr>
            <tr>
                <td><input type="button" value="Submit nama" onclick="return submitData()"/></td>
                <td><a href="Data.html">Firebase Data</a></td>
            </tr>
        </table>
    </form>
</body>

</html>


<script src="https://www.gstatic.com/firebasejs/4.5.0/firebase.js"></script>
<script>
    // Initialize Firebase
    var config = {
        apiKey: "AIzaSyBMOYsL2sNjYnGU89HBi60X67kM78P1tpw",
        authDomain: "belajar-firebase2.firebaseapp.com",
        databaseURL: "https://belajar-firebase2.firebaseio.com",
        projectId: "belajar-firebase2",
        storageBucket: "belajar-firebase2.appspot.com",
        messagingSenderId: "182996346990"
    };
    firebase.initializeApp(config);

    var fb = firebase.database();


    function tulisData(nim,nama){
        fb.ref('/mhs/'+nim).set({
            nama : nama
        },function(error){
            if(error){
                console.log("Error" + error);
            }else{
                console.log("Insert data success");
            }
        });
    }


    function refresh(){
        document.form.nama.value = "";
        document.form.nim.value = "";
    }

    function submitData(){
        var modelNama = document.form.nama.value ;
        var modelNim = document.form.nim.value ;

        if(modelNama === ''
            || modelNama === undefined
            || modelNim === ''
            || modelNim === undefined){
           alert('form masih kosong');
        }else{
           tulisData(modelNim,modelNama);
           refresh();
        }

        return false;
    }

    refresh();


</script>